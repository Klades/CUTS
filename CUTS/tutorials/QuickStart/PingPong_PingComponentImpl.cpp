// This file was generated by:
// $Id$

#include "PingPong_PingComponentImpl.h"
#include "cuts/arch/ccm/CCM_Events_T.h"

namespace PingPong_PingComponentImpl
{
  //
  // PingComponent
  //
  PingComponent::PingComponent (void)
  : eventCount_ (0)
  {
    this->periodic_eventProducer_.init (this, &PingComponent::periodic_eventProducer);
    this->periodic_eventProducer_.configure (CUTS_Periodic_Event::PE_EXPONENTIAL, 10);
    this->register_object (&this->periodic_eventProducer_);
  }

  //
  // ~PingComponent
  //
  PingComponent::~PingComponent (void)
  {
  }

  //
  // PeriodicEvent: eventProducer
  //
  void PingComponent::periodic_eventProducer (void)
  {
    CUTS_CCM_Event_T <OBV_PingPong::SimpleEvent> __event_100000012__;
    __event_100000012__->eventCount (this->eventCount_);
    this->ctx_->push_sendData (__event_100000012__.in ());
  }
}

//
// create_PingPong_PingComponent_Impl
//
::Components::EnterpriseComponent_ptr
create_PingPong_PingComponent_Impl (void)
{
  ::Components::EnterpriseComponent_ptr retval =
    ::Components::EnterpriseComponent::_nil ();

  ACE_NEW_RETURN (retval,
                  ::PingPong_PingComponentImpl::PingComponent (),
                  ::Components::EnterpriseComponent::_nil ());

  return retval;
}


// end of auto-generated file

