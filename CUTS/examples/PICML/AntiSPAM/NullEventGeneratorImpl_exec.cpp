// This file was generated by
// $Id$

#include "NullEventGeneratorImpl_exec.h"
#include "cuts/CCM_Events_T.h"

namespace CIDL_NullEventGeneratorImpl
{
  //
  // eventGenerator
  //
  void NullEventGenerator::periodic_eventGenerator (void)
  {
    CUTS_CCM_Event_T <OBV_antispam::NullEvent> __event_100000046__;
    this->ctx_->push_NullEvent (__event_100000046__.in ());
  }

  //
  // publishHertz [getter]
  //
  ::CORBA::Long NullEventGenerator::publishHertz (void)
  {
    return this->publishHertz_;
  }

  //
  // publishHertz [setter]
  //
  void NullEventGenerator::publishHertz (::CORBA::Long publishHertz)
  {
    this->publishHertz_ = publishHertz;
  }

  //
  // Environment: activate
  //
  void NullEventGenerator::ccm_activate (void)
  {
    // we need to configure all objects first
    this->cuts_configure_objects ();

    // pass control to base class
    base_type::ccm_activate ();
  }

  //
  // NullEventGenerator
  //
  NullEventGenerator::NullEventGenerator (void)
  {
    this->periodic_eventGenerator_.init (this, &type::periodic_eventGenerator);
    this->register_object (&this->periodic_eventGenerator_);
  }

  //
  // ~NullEventGenerator
  //
  NullEventGenerator::~NullEventGenerator (void)
  {
  }

  //
  // cuts_configure_objects
  //
  void NullEventGenerator::cuts_configure_objects (void)
  {
    this->periodic_eventGenerator_.probability (1.0);
    this->periodic_eventGenerator_.timeout (1000 / this->publishHertz_);
  }

  //
  // NullEventGeneratorHome_i
  //
  NullEventGeneratorHome_i::NullEventGeneratorHome_i (void)
  {
  }

  //
  // ~NullEventGeneratorHome_i
  //
  NullEventGeneratorHome_i::~NullEventGeneratorHome_i (void)
  {
  }

  //
  // create
  //
  ::Components::EnterpriseComponent_ptr 
    NullEventGeneratorHome_i::create (void) 
  {
    ::Components::EnterpriseComponent_ptr retval =
      ::Components::EnterpriseComponent::_nil ();

    ACE_NEW_THROW_EX (retval,
                      NullEventGenerator (),
                      ::CORBA::NO_MEMORY ());

    return retval;
  }
}

//
// create_antispam_NullEventGeneratorHome_Impl
//
::Components::HomeExecutorBase_ptr
create_antispam_NullEventGeneratorHome_Impl (void) 
{
  ::Components::HomeExecutorBase_ptr retval =
    ::Components::HomeExecutorBase::_nil ();

  ACE_NEW_RETURN (retval,
                  ::CIDL_NullEventGeneratorImpl::NullEventGeneratorHome_i,
                  ::Components::HomeExecutorBase::_nil ());

  return retval;
}

