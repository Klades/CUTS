// $Id$

project (CUTS_Node_Daemon_Base) : xsc_cxx {
  custom_only = 1
  
  Modify_Custom (XSC) {
    header_outputext = .h
    inline_outputext = .inl
  }

  specific {
    xscflags += --cxx-header-suffix .h --cxx-source-suffix .cpp \
                --cxx-inline-suffix .inl --cxx-generate-inline \
                --cxx-char-type char
  }

  Xsc_Files {
    gendir = .
    $(CUTS_ROOT)/etc/schemas/cutsnode.xsd
  }
}

project (CUTS_Node_Daemon) : taoserver, iortable, xscrt, cutsexe {
  exename = cutsnode_d

  after += CUTS_Node_Daemon_Base
  after -= CUTS
  libs  -= CUTS

  IDL_Files {
    Node_Daemon.idl
  }

  Source_Files {
    Active_Process.cpp
    Node_Daemon_Event_Handler.cpp
    Node_Daemon_i.cpp
    Node_Daemon_Server.cpp
    Process_Info.cpp
    Process_Log.cpp
    Server_Options.cpp
    
    cutsnode.cpp
  }

  Header_Files {
    Process_Info.h
  }

  specific (vc7, vc71, vc8, vc9) {
    compile_flags += /wd4355
  }
}

project (CUTS_Node_Daemon_Client): taoclient, anytypecode, cutsexe {
  exename  = cutsnode
  after   += CUTS_Node_Daemon

  //-- remove unncessary settings
  after -= CUTS
  libs  -= CUTS

  IDL_Files {

  }

  Source_Files {
    Client_Options.cpp
    Node_DaemonC.cpp
    Node_Daemon_Client.cpp
  }

  Header_Files {

  }
}

