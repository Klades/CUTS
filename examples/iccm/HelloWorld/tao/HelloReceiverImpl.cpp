// This file was generated by:
// $Id$

#include "HelloReceiverImpl.h"
#include "cuts/arch/ccm/CCM_Events_T.h"

namespace HelloReceiverImpl
{
  //
  // Echo_i
  //
  Echo_i::Echo_i (HelloReceiver * parent)
  : base_type (parent)
  {
  }

  //
  // ~Echo_i
  //
  Echo_i::~Echo_i (void)
  {
  }

  //
  // increment_count
  //
  void Echo_i::
  increment_count (void)
  {
    ::CORBA::ULong i = this->getParent ().count ();

    i++;

    this->getParent ().count (i);

    ACE_DEBUG ((LM_DEBUG, ACE_TEXT ("Receiver: Facet Request increment count = %d\n"), this->getParent ().count () ) );
  }

  //
  // HelloReceiver
  //
  HelloReceiver::HelloReceiver (void)
  : count_ (0)
  {
  }

  //
  // ~HelloReceiver
  //
  HelloReceiver::~HelloReceiver (void)
  {
  }

  //
  // sink: greeting
  //
  void HelloReceiver::push_greeting (::MessageEvent * ev)
  {
    ACE_DEBUG ((LM_DEBUG, ACE_TEXT ("Receiver InputAction Effect for content = %s, count = %d\n"), ev->content (),  this->count ()));
    ACE_UNUSED_ARG (ev);
  }

  //
  // facet: echo
  //
  ::CCM_Messenger_ptr
    HelloReceiver::get_echo (void)
  {
    if ( ::CORBA::is_nil (this->echo_i_.in ()))
    {
      Echo_i * tmp = 0;
      ACE_NEW_RETURN (
        tmp,
        Echo_i (this),
        CCM_Messenger::_nil ());
      this->echo_i_ = tmp;
    }

    return CCM_Messenger::_duplicate (
      this->echo_i_.in ());
  }

  //
  // variable setter: count
  //
  void HelloReceiver::count (::CORBA::ULong count)
  {
    this->count_ = count;
  }

  //
  // variable getter: count
  //
  ::CORBA::ULong HelloReceiver::count (void)
  {
    return this->count_;
  }
}

//
// create_HelloReceiver_Impl
//
::Components::EnterpriseComponent_ptr
create_HelloReceiver_Impl (void)
{
  ::Components::EnterpriseComponent_ptr retval =
    ::Components::EnterpriseComponent::_nil ();

  ACE_NEW_RETURN (retval,
                  ::HelloReceiverImpl::HelloReceiver (),
                  ::Components::EnterpriseComponent::_nil ());

  return retval;
}


// end of auto-generated file

