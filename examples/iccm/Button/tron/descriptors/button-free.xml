<?xml version="1.0"?>
<!DOCTYPE nta PUBLIC "-//Uppaal Team//DTD Flat System 1.0//EN" "http://www.docs.uu.se/docs/rtmv/uppaal/xml/flat-1_0.dtd">
<nta><declaration>//Insert declarations of global clocks, variables, constants and channels.

chan singleClick, doubleClick, click, zzz;</declaration><template><name x="5" y="5">Button</name><parameter x="5" y="20"/><declaration>clock x;</declaration><location id="id0" x="32" y="80"><name x="22" y="50">s1</name></location><location id="id1" x="192" y="80"><name x="182" y="50">s3</name><urgent/></location><location id="id2" x="192" y="224"><name x="182" y="194">s2</name><label kind="invariant" x="182" y="239">x&lt;=20</label></location><init ref="id0"/><transition><source ref="id1"/><target ref="id0"/><label kind="synchronisation" x="80" y="64">doubleClick!</label></transition><transition><source ref="id0"/><target ref="id2"/><label kind="synchronisation" x="96" y="120">click?</label><label kind="assignment" x="112" y="136">x:=0</label></transition><transition><source ref="id2"/><target ref="id1"/><label kind="guard" x="192" y="128">x&lt;20</label><label kind="synchronisation" x="192" y="144">click?</label></transition><transition><source ref="id2"/><target ref="id0"/><label kind="guard" x="40" y="192">x&gt;=20</label><label kind="synchronisation" x="40" y="208">singleClick!</label><nail x="32" y="224"/></transition></template><template><name x="5" y="5">Mouse</name><parameter x="5" y="20"/><declaration>clock y;</declaration><location id="id3" x="32" y="64"><name x="-8" y="32">Generate</name></location><location id="id4" x="192" y="64"><name x="182" y="34">Generate2</name><label kind="invariant" x="182" y="79">y&lt;=30</label></location><init ref="id3"/><transition><source ref="id3"/><target ref="id4"/><label kind="synchronisation" x="96" y="112">click!</label><label kind="assignment" x="96" y="128">y:=0</label><nail x="88" y="128"/><nail x="128" y="128"/></transition><transition><source ref="id4"/><target ref="id3"/><label kind="guard" x="104" y="48">y&lt;20</label><label kind="synchronisation" x="104" y="64">click!</label></transition><transition><source ref="id4"/><target ref="id3"/><label kind="guard" x="104" y="-8">y&gt;=20</label><nail x="128" y="0"/></transition></template><template><name x="5" y="5">User</name><parameter x="5" y="20"/><declaration/><location id="id5" x="40" y="80"><name x="16" y="96">Observe</name></location><init ref="id5"/><transition><source ref="id5"/><target ref="id5"/><label kind="synchronisation" x="-8" y="-24">doubleClick?</label><nail x="4" y="0"/><nail x="64" y="0"/></transition></template><template><name x="5" y="5">GeneralEnv</name><parameter x="5" y="20"/><declaration/><location id="id6" x="32" y="64"><name x="0" y="56">s1</name></location><init ref="id6"/><transition><source ref="id6"/><target ref="id6"/><label kind="synchronisation" x="16" y="-16">click!</label><nail x="4" y="0"/><nail x="64" y="0"/></transition><transition><source ref="id6"/><target ref="id6"/><label kind="synchronisation" x="0" y="136">doubleClick?</label><nail x="0" y="128"/><nail x="64" y="128"/></transition><transition><source ref="id6"/><target ref="id6"/><label kind="synchronisation" x="72" y="56">singleClick?</label><nail x="96" y="32"/><nail x="96" y="96"/></transition></template><template><name x="5" y="5">Producer</name><parameter x="5" y="20"/><declaration/><location id="id7" x="40" y="80"><name x="30" y="50">s1</name></location><init ref="id7"/><transition><source ref="id7"/><target ref="id7"/><label kind="synchronisation" x="24" y="32">zzz!</label><nail x="10" y="50"/><nail x="70" y="50"/></transition></template><template><name x="5" y="5">Consumer</name><parameter x="5" y="20"/><declaration/><location id="id8" x="40" y="80"><name x="30" y="50">s1</name></location><init ref="id8"/><transition><source ref="id8"/><target ref="id8"/><label kind="synchronisation" x="32" y="32">zzz?</label><nail x="10" y="50"/><nail x="70" y="50"/></transition></template><instantiation>button0 := Button();
environment := GeneralEnv();</instantiation><system>system button0, environment, Producer, Consumer;
/*
input click(), zzz();
output singleClick(), doubleClick();

precision 10000; // time in microseconds
timeout 100000;*/</system></nta>